<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Battleship Game</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Anton&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="home-screen" class="home-screen">
        <!-- SVG Wave Waterline -->
        <svg class="ocean-wave" viewBox="0 0 1200 60" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M 0,30 Q 150,10 300,30 T 600,30 T 900,30 T 1200,30 L 1200,60 L 0,60 Z" fill="#1A5276" opacity="0.95"/>
            <path d="M 0,30 Q 150,10 300,30 T 600,30 T 900,30 T 1200,30" stroke="rgba(255, 255, 255, 0.6)" stroke-width="2" fill="none"/>
        </svg>
        
        <div class="home-content">
            <div class="decorative-missiles">
                <span class="missile">üöÄ</span>
                <span class="missile">üöÄ</span>
                <span class="missile">üöÄ</span>
            </div>
            
            <h1 class="home-title">Battleship</h1>
            
            <div class="ship-display">
                <div class="ship-container">
                    <!-- Ship above waterline -->
                    <svg width="300" height="120" viewBox="0 0 300 120" class="ship-svg">
                    <!-- Hull -->
                    <path d="M 10,85 L 20,75 L 280,75 L 290,85 L 290,95 L 10,95 Z" fill="#2c3e50" stroke="#1a252f" stroke-width="2"/>
                    
                    <!-- Deck -->
                    <rect x="20" y="75" width="260" height="5" fill="#34495e"/>
                    
                    <!-- Bow (front) -->
                    <polygon points="280,75 295,80 295,90 280,95" fill="#1a252f"/>
                    
                    <!-- Forward turret base -->
                    <rect x="40" y="60" width="30" height="15" rx="3" fill="#34495e" stroke="#1a252f" stroke-width="1.5"/>
                    <!-- Forward turret guns -->
                    <rect x="48" y="50" width="5" height="15" rx="1" fill="#2c3e50" stroke="#1a252f" stroke-width="1"/>
                    <rect x="57" y="50" width="5" height="15" rx="1" fill="#2c3e50" stroke="#1a252f" stroke-width="1"/>
                    
                    <!-- Bridge/Superstructure -->
                    <rect x="120" y="45" width="50" height="30" fill="#34495e" stroke="#1a252f" stroke-width="1.5"/>
                    <rect x="130" y="35" width="30" height="15" fill="#2c3e50" stroke="#1a252f" stroke-width="1.5"/>
                    <!-- Bridge windows -->
                    <rect x="135" y="40" width="4" height="4" fill="#5DADE2"/>
                    <rect x="142" y="40" width="4" height="4" fill="#5DADE2"/>
                    <rect x="149" y="40" width="4" height="4" fill="#5DADE2"/>
                    <rect x="156" y="40" width="4" height="4" fill="#5DADE2"/>
                    
                    <!-- Radar mast -->
                    <rect x="148" y="25" width="4" height="12" fill="#2c3e50"/>
                    <circle cx="150" cy="24" r="3" fill="#e74c3c"/>
                    
                    <!-- Mid turret base -->
                    <rect x="190" y="58" width="32" height="17" rx="3" fill="#34495e" stroke="#1a252f" stroke-width="1.5"/>
                    <!-- Mid turret guns -->
                    <rect x="197" y="48" width="6" height="15" rx="1" fill="#2c3e50" stroke="#1a252f" stroke-width="1"/>
                    <rect x="207" y="48" width="6" height="15" rx="1" fill="#2c3e50" stroke="#1a252f" stroke-width="1"/>
                    
                    <!-- Aft turret base -->
                    <rect x="235" y="60" width="30" height="15" rx="3" fill="#34495e" stroke="#1a252f" stroke-width="1.5"/>
                    <!-- Aft turret guns -->
                    <rect x="243" y="50" width="5" height="15" rx="1" fill="#2c3e50" stroke="#1a252f" stroke-width="1"/>
                    <rect x="252" y="50" width="5" height="15" rx="1" fill="#2c3e50" stroke="#1a252f" stroke-width="1"/>
                    
                    <!-- Smoke stacks -->
                    <rect x="95" y="55" width="12" height="20" rx="2" fill="#2c3e50" stroke="#1a252f" stroke-width="1"/>
                    <rect x="180" y="55" width="12" height="20" rx="2" fill="#2c3e50" stroke="#1a252f" stroke-width="1"/>
                    
                    <!-- Waterline -->
                    <line x1="10" y1="95" x2="290" y2="95" stroke="#1a252f" stroke-width="2"/>
                    
                    <!-- Hull details/rivets -->
                    <circle cx="50" cy="85" r="1.5" fill="#1a252f"/>
                    <circle cx="80" cy="85" r="1.5" fill="#1a252f"/>
                    <circle cx="110" cy="85" r="1.5" fill="#1a252f"/>
                    <circle cx="220" cy="85" r="1.5" fill="#1a252f"/>
                    <circle cx="250" cy="85" r="1.5" fill="#1a252f"/>
                </svg>
                
                <!-- Waterline (horizontal line across ship) -->
                <div class="waterline-indicator"></div>
                
                <!-- Submerged hull overlay (semi-transparent water covering bottom of ship) -->
                <div class="submerged-hull"></div>
                
                <!-- Ship Reflection in water -->
                <svg width="300" height="35" viewBox="0 0 300 35" class="ship-reflection">
                    <!-- Reflected hull -->
                    <path d="M 10,0 L 20,8 L 280,8 L 290,0" fill="#2c3e50" opacity="0.25"/>
                    <!-- Reflected superstructure -->
                    <rect x="120" y="8" width="50" height="12" fill="#34495e" opacity="0.18"/>
                    <rect x="130" y="20" width="30" height="8" fill="#2c3e50" opacity="0.12"/>
                </svg>
                
                <!-- Wake ripples at hull contact points -->
                <svg class="wake-ripples-left" viewBox="0 0 80 50" xmlns="http://www.w3.org/2000/svg">
                    <ellipse cx="40" cy="5" rx="18" ry="5" fill="none" stroke="rgba(255, 255, 255, 0.5)" stroke-width="1.5"/>
                    <ellipse cx="40" cy="5" rx="28" ry="8" fill="none" stroke="rgba(255, 255, 255, 0.3)" stroke-width="1"/>
                    <ellipse cx="40" cy="5" rx="38" ry="11" fill="none" stroke="rgba(255, 255, 255, 0.15)" stroke-width="0.8"/>
                </svg>
                
                <svg class="wake-ripples-right" viewBox="0 0 80 50" xmlns="http://www.w3.org/2000/svg">
                    <ellipse cx="40" cy="5" rx="18" ry="5" fill="none" stroke="rgba(255, 255, 255, 0.5)" stroke-width="1.5"/>
                    <ellipse cx="40" cy="5" rx="28" ry="8" fill="none" stroke="rgba(255, 255, 255, 0.3)" stroke-width="1"/>
                    <ellipse cx="40" cy="5" rx="38" ry="11" fill="none" stroke="rgba(255, 255, 255, 0.15)" stroke-width="0.8"/>
                </svg>
                </div>
            </div>
            
            <div class="decorative-explosions">
                <span class="explosion">üí•</span>
                <span class="explosion">üí•</span>
                <span class="explosion">üí•</span>
            </div>
            
            <div class="home-buttons">
                <button id="how-to-play-btn" class="how-to-play-btn">How to Play</button>
                <button id="play-now-btn" class="play-now-btn">Play Now</button>
            </div>
            
            <p class="home-subtitle">Command your fleet and sink the enemy!</p>
        </div>
    </div>

    <!-- Difficulty Selection Modal -->
    <div id="difficulty-modal" class="difficulty-modal" style="display: none;">
        <div class="difficulty-content">
            <h2>Select Difficulty</h2>
            <p class="difficulty-description">Easy = random shots. Hard = smarter targeting.</p>
            <div class="difficulty-buttons">
                <button id="easy-mode-btn" class="difficulty-btn easy-btn">Easy Mode</button>
                <button id="hard-mode-btn" class="difficulty-btn hard-btn">Hard Mode</button>
            </div>
        </div>
    </div>

    <!-- Placement Confirmation Modal -->
    <div id="placement-confirmation-modal" class="placement-confirmation-modal" style="display: none;">
        <div class="placement-confirmation-content">
            <h2>Ready to Play?</h2>
            <p>All ships have been placed. Are you ready to start the game?</p>
            <div class="confirmation-buttons">
                <button id="keep-editing-btn" class="keep-editing-btn">Keep Editing</button>
                <button id="start-game-btn" class="start-game-btn">Start Game</button>
            </div>
        </div>
    </div>

    <!-- Instructions Modal -->
    <div id="instructions-modal" class="instructions-modal" style="display: none;">
        <div class="instructions-content">
            <h2>How to Play Battleship</h2>
            
            <div class="instructions-section">
                <h3>üéØ Objective</h3>
                <p>Sink all 5 enemy ships before the AI sinks yours!</p>
            </div>
            
            <div class="instructions-section">
                <h3>üö¢ Ship Placement</h3>
                <p><strong>Drag & Drop:</strong> Drag ships from the tray onto your grid.</p>
                <p><strong>Rotate:</strong> Press <kbd>R</kbd> or click the Rotate button to change orientation (horizontal/vertical).</p>
                <p><strong>Valid Placement:</strong> Ships turn <span class="valid-color">green</span> when placement is valid, <span class="invalid-color">red</span> when invalid.</p>
                <p>Place all 5 ships: Carrier (5), Battleship (4), Cruiser (3), Submarine (3), Destroyer (2).</p>
            </div>
            
            <div class="instructions-section">
                <h3>‚öîÔ∏è Combat</h3>
                <p><strong>Your Turn:</strong> Click any cell on the enemy grid to fire.</p>
                <p><strong>Hit:</strong> <span class="hit-indicator">‚úï</span> Red X means you hit an enemy ship!</p>
                <p><strong>Miss:</strong> <span class="miss-indicator">‚óã</span> Gray circle means you missed.</p>
                <p><strong>AI Turn:</strong> After you fire, the AI automatically fires at your grid.</p>
            </div>
            
            <div class="instructions-section">
                <h3>üèÜ Winning</h3>
                <p>Sink all enemy ships to win! If the AI sinks all your ships first, you lose.</p>
                <p>Click <strong>New Game</strong> anytime to restart.</p>
            </div>
            
            <button id="close-instructions-btn" class="close-instructions-btn">Close</button>
        </div>
    </div>

    <div id="game-screen" class="container" style="display: none;">
        <h1>Battleship</h1>
        
        <div class="status-bar">
            <div class="status-left">
                <div id="status-message">Click "New Game" to start!</div>
                <div id="difficulty-indicator" class="difficulty-indicator" style="display: none;"></div>
            </div>
            <div class="status-buttons">
                <button id="close-btn" class="close-btn" title="Return to Home">‚úï</button>
                <button id="new-game-btn">New Game</button>
            </div>
        </div>

        <div id="placement-phase" class="placement-phase" style="display: none;">
            <div class="placement-controls">
                <div class="placement-header">
                    <h2>Place Your Ships</h2>
                    <p class="placement-hint">Drag ships from the tray to your grid below. Press R or click Rotate to change orientation.</p>
                </div>
                <div class="placement-buttons">
                    <button id="random-btn" class="random-btn">Random</button>
                    <button id="rotate-btn" class="rotate-btn">Rotate (R)</button>
                </div>
            </div>
            
            <div class="placement-layout">
                <div class="ship-tray">
                    <div class="tray-ship" draggable="true" data-ship="Carrier" data-size="5">
                        <span class="ship-name">Carrier</span>
                        <svg class="ship-visual" width="200" height="40" viewBox="0 0 200 40">
                            <rect x="0" y="15" width="200" height="10" fill="#2c3e50" stroke="#1a252f" stroke-width="1"/>
                            <polygon points="195,15 200,20 200,25 195,25" fill="#1a252f"/>
                            <rect x="10" y="10" width="12" height="8" fill="#34495e" stroke="#1a252f" stroke-width="0.5"/>
                            <rect x="12" y="7" width="2" height="6" fill="#2c3e50"/>
                            <rect x="16" y="7" width="2" height="6" fill="#2c3e50"/>
                            <rect x="80" y="8" width="20" height="10" fill="#34495e" stroke="#1a252f" stroke-width="0.5"/>
                            <rect x="85" y="5" width="10" height="5" fill="#2c3e50"/>
                            <rect x="120" y="10" width="12" height="8" fill="#34495e" stroke="#1a252f" stroke-width="0.5"/>
                            <rect x="122" y="7" width="2" height="6" fill="#2c3e50"/>
                            <rect x="126" y="7" width="2" height="6" fill="#2c3e50"/>
                            <rect x="160" y="10" width="12" height="8" fill="#34495e" stroke="#1a252f" stroke-width="0.5"/>
                            <rect x="162" y="7" width="2" height="6" fill="#2c3e50"/>
                            <rect x="166" y="7" width="2" height="6" fill="#2c3e50"/>
                        </svg>
                    </div>
                    
                    <div class="tray-ship" draggable="true" data-ship="Battleship" data-size="4">
                        <span class="ship-name">Battleship</span>
                        <svg class="ship-visual" width="160" height="40" viewBox="0 0 160 40">
                            <rect x="0" y="15" width="160" height="10" fill="#2c3e50" stroke="#1a252f" stroke-width="1"/>
                            <polygon points="155,15 160,20 160,25 155,25" fill="#1a252f"/>
                            <rect x="15" y="10" width="12" height="8" fill="#34495e" stroke="#1a252f" stroke-width="0.5"/>
                            <rect x="17" y="7" width="2" height="6" fill="#2c3e50"/>
                            <rect x="21" y="7" width="2" height="6" fill="#2c3e50"/>
                            <rect x="70" y="8" width="20" height="10" fill="#34495e" stroke="#1a252f" stroke-width="0.5"/>
                            <rect x="75" y="5" width="10" height="5" fill="#2c3e50"/>
                            <rect x="120" y="10" width="12" height="8" fill="#34495e" stroke="#1a252f" stroke-width="0.5"/>
                            <rect x="122" y="7" width="2" height="6" fill="#2c3e50"/>
                            <rect x="126" y="7" width="2" height="6" fill="#2c3e50"/>
                        </svg>
                    </div>
                    
                    <div class="tray-ship" draggable="true" data-ship="Cruiser" data-size="3">
                        <span class="ship-name">Cruiser</span>
                        <svg class="ship-visual" width="120" height="40" viewBox="0 0 120 40">
                            <rect x="0" y="15" width="120" height="10" fill="#2c3e50" stroke="#1a252f" stroke-width="1"/>
                            <polygon points="115,15 120,20 120,25 115,25" fill="#1a252f"/>
                            <rect x="20" y="10" width="12" height="8" fill="#34495e" stroke="#1a252f" stroke-width="0.5"/>
                            <rect x="22" y="7" width="2" height="6" fill="#2c3e50"/>
                            <rect x="26" y="7" width="2" height="6" fill="#2c3e50"/>
                            <rect x="55" y="8" width="18" height="10" fill="#34495e" stroke="#1a252f" stroke-width="0.5"/>
                            <rect x="60" y="5" width="8" height="5" fill="#2c3e50"/>
                        </svg>
                    </div>
                    
                    <div class="tray-ship" draggable="true" data-ship="Submarine" data-size="3">
                        <span class="ship-name">Submarine</span>
                        <svg class="ship-visual" width="120" height="40" viewBox="0 0 120 40">
                            <ellipse cx="60" cy="20" rx="58" ry="8" fill="#34495e" stroke="#1a252f" stroke-width="1"/>
                            <rect x="55" y="12" width="10" height="8" fill="#2c3e50" stroke="#1a252f" stroke-width="0.5"/>
                            <rect x="58" y="8" width="4" height="6" fill="#2c3e50" stroke="#1a252f" stroke-width="0.5"/>
                            <circle cx="60" cy="7" r="2" fill="#e74c3c"/>
                            <ellipse cx="110" cy="20" rx="8" ry="6" fill="#1a252f"/>
                        </svg>
                    </div>
                    
                    <div class="tray-ship" draggable="true" data-ship="Destroyer" data-size="2">
                        <span class="ship-name">Destroyer</span>
                        <svg class="ship-visual" width="80" height="40" viewBox="0 0 80 40">
                            <rect x="0" y="15" width="80" height="10" fill="#2c3e50" stroke="#1a252f" stroke-width="1"/>
                            <polygon points="75,15 80,20 80,25 75,25" fill="#1a252f"/>
                            <rect x="25" y="10" width="12" height="8" fill="#34495e" stroke="#1a252f" stroke-width="0.5"/>
                            <rect x="27" y="7" width="2" height="6" fill="#2c3e50"/>
                            <rect x="31" y="7" width="2" height="6" fill="#2c3e50"/>
                            <rect x="35" y="8" width="15" height="10" fill="#34495e" stroke="#1a252f" stroke-width="0.5"/>
                            <rect x="40" y="5" width="5" height="5" fill="#2c3e50"/>
                        </svg>
                    </div>
                </div>
                
                <div class="placement-grid-section">
                    <h2>Your Fleet</h2>
                    <div id="placement-grid" class="grid"></div>
                </div>
            </div>
        </div>

        <div class="game-container" style="display: none;">
            <div class="grid-section">
                <h2>Your Fleet</h2>
                <div id="player-grid" class="grid"></div>
                <div class="ships-status">
                    <h3>Your Ships:</h3>
                    <div id="player-ships-list"></div>
                </div>
            </div>

            <div class="grid-section">
                <h2>Enemy Waters</h2>
                <div id="ai-grid" class="grid"></div>
                <div class="ships-status">
                    <h3>Enemy Ships:</h3>
                    <div id="ai-ships-list"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
